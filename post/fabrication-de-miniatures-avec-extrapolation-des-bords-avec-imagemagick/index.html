<!doctype html><html><head><title>Fabrication de miniatures avec extrapolation des bords avec Imagemagick</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.83.1"><link rel=icon href=/lobotourisme/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/lobotourisme/favicons/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=/lobotourisme/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=128x128 href=/lobotourisme/favicons/favicon-128x128.png><link rel=icon type=image/png sizes=152x152 href=/lobotourisme/favicons/favicon-152x152.png><link rel=icon type=image/png sizes=167x167 href=/lobotourisme/favicons/favicon-167x167.png><link rel=icon type=image/png sizes=180x180 href=/lobotourisme/favicons/favicon-180x180.png><link rel=icon type=image/png sizes=192x192 href=/lobotourisme/favicons/favicon-192x192.png><link rel=icon type=image/png sizes=196x196 href=/lobotourisme/favicons/favicon-196x196.png><link rel=apple-touch-icon-precomposed href=/lobotourisme/favicons/favicon-180x180.png><link rel="shortcut icon" sizes=196x196 href=/lobotourisme/favicons/favicon-196x196.png><meta name=msapplication-TileColor content="#FFFFFF"><meta name=msapplication-TileImage content="/lobotourisme/favicons/favicon-144x144.png"><meta name=application-name content="Lobotourisme"><meta name=msapplication-tooltip content="Tooltip"><meta name=msapplication-config content="/lobotourisme/ieconfig.xml"><meta name=description content="Lobotourisme - Mes notes sur diverses choses que je souhaite conserver ou partager, sur les protections moto, des petites docs linux, etc. Site statique Hugo"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://loboto51.github.io/lobotourisme/post/fabrication-de-miniatures-avec-extrapolation-des-bords-avec-imagemagick/Course-rocker_jean_aramide_AA_thumbnail.jpg"><meta name=twitter:title content="Fabrication de miniatures avec extrapolation des bords avec Imagemagick"><meta name=twitter:description content="Edit du 15/05/2021 : J&rsquo;ai intégré 3 modes de fabrication de miniature dans le script, pour pouvoir ensuite choisir facilement le meilleur résultat. Entre temps j&rsquo;ai changé de thème Hugo (hugo-future-imperfect) et les miniatures de 800x300 s&rsquo;y prêtent mieux.
 J&rsquo;ai choisi de générer des miniatures pour chacun de mes billets en réutilisant des photos issues des articles.
J&rsquo;utilise 3 techniques pour produire des images aux dimensions qui me conviennent :"><meta property="og:title" content="Fabrication de miniatures avec extrapolation des bords avec Imagemagick"><meta property="og:description" content="Edit du 15/05/2021 : J&rsquo;ai intégré 3 modes de fabrication de miniature dans le script, pour pouvoir ensuite choisir facilement le meilleur résultat. Entre temps j&rsquo;ai changé de thème Hugo (hugo-future-imperfect) et les miniatures de 800x300 s&rsquo;y prêtent mieux.
 J&rsquo;ai choisi de générer des miniatures pour chacun de mes billets en réutilisant des photos issues des articles.
J&rsquo;utilise 3 techniques pour produire des images aux dimensions qui me conviennent :"><meta property="og:type" content="article"><meta property="og:url" content="https://loboto51.github.io/lobotourisme/post/fabrication-de-miniatures-avec-extrapolation-des-bords-avec-imagemagick/"><meta property="og:image" content="https://loboto51.github.io/lobotourisme/post/fabrication-de-miniatures-avec-extrapolation-des-bords-avec-imagemagick/Course-rocker_jean_aramide_AA_thumbnail.jpg"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-05-07T00:00:00+00:00"><meta property="article:modified_time" content="2021-05-07T00:00:00+00:00"><meta property="og:image" content="/lobotourisme/favicons/favicon-128x128.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="128"><meta property="og:image:height" content="128"><meta itemprop=name content="Fabrication de miniatures avec extrapolation des bords avec Imagemagick"><meta itemprop=description content="Edit du 15/05/2021 : J&rsquo;ai intégré 3 modes de fabrication de miniature dans le script, pour pouvoir ensuite choisir facilement le meilleur résultat. Entre temps j&rsquo;ai changé de thème Hugo (hugo-future-imperfect) et les miniatures de 800x300 s&rsquo;y prêtent mieux.
 J&rsquo;ai choisi de générer des miniatures pour chacun de mes billets en réutilisant des photos issues des articles.
J&rsquo;utilise 3 techniques pour produire des images aux dimensions qui me conviennent :"><meta itemprop=datePublished content="2021-05-07T00:00:00+00:00"><meta itemprop=dateModified content="2021-05-07T00:00:00+00:00"><meta itemprop=wordCount content="680"><meta itemprop=image content="https://loboto51.github.io/lobotourisme/post/fabrication-de-miniatures-avec-extrapolation-des-bords-avec-imagemagick/Course-rocker_jean_aramide_AA_thumbnail.jpg"><meta itemprop=keywords content="hugo,imagemagick,"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Raleway:400,800,900|Source+Sans+Pro:400,700"><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.css><link rel=stylesheet href=/lobotourisme/css/main.css><link rel=stylesheet href=/lobotourisme/css/add-on.css><link rel=stylesheet href=/lobotourisme/css/academicons.min.css><link href=//cdn.bootcss.com/highlight.js/9.11.0/styles/github.min.css rel=stylesheet type=text/css><script src=//code.jquery.com/jquery-3.3.1.min.js integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin=anonymous></script></head><body><div id=wrapper><header id=header><h1><a href=/lobotourisme/>post</a></h1><nav class=links><ul><li><a href=/lobotourisme/><i class="fa fa-home">&nbsp;</i>Accueil</a></li><li><a href=/lobotourisme/categories/moto/><i class="fa fa-moto">&nbsp;</i>Moto</a></li><li><a href=/lobotourisme/categories/dev/><i class="fa fa-dev">&nbsp;</i>Dev</a></li><li><a href=/lobotourisme/categories/%c3%a9cologie/><i class="fa fa-ecologie">&nbsp;</i>Ecologie</a></li><li><a href=/lobotourisme/contact/><i class="fa fa-envelope-o">&nbsp;</i>Contact</a></li></ul></nav><nav class=main><ul><li id=share-nav class=share-menu style=display:none><a class=fa-share-alt href=#share-menu>Share</a></li><li class=search><a class=fa-search href=#search>Search</a><form id=search method=get action=//google.com/search><input type=text name=q placeholder=Search>
<input type=hidden name=as_sitesearch value=https://loboto51.github.io/lobotourisme/></form></li><li class=menu><a class=fa-bars href=#menu>Menu</a></li></ul></nav></header><section id=menu><section><form class=search method=get action=//google.com/search><input type=text name=q placeholder=Search>
<input type=hidden name=as_sitesearch value=https://loboto51.github.io/lobotourisme/></form></section><section><ul class=links><li><a href=/lobotourisme/><h3><i class="fa fa-home">&nbsp;</i>Accueil</h3></a></li><li><a href=/lobotourisme/categories/moto/><h3><i class="fa fa-moto">&nbsp;</i>Moto</h3></a></li><li><a href=/lobotourisme/categories/dev/><h3><i class="fa fa-dev">&nbsp;</i>Dev</h3></a></li><li><a href=/lobotourisme/categories/%c3%a9cologie/><h3><i class="fa fa-ecologie">&nbsp;</i>Ecologie</h3></a></li><li><a href=/lobotourisme/contact/><h3><i class="fa fa-envelope-o">&nbsp;</i>Contact</h3></a></li></ul></section><section class=recent-posts><div class=mini-posts><header><h3>Posts récents</h3></header><article class=mini-post><header><h3><a href=/lobotourisme/post/bottes-moto-stylmartin-rocket/>Bottes moto Stylmartin Rocket</a></h3><time class=published datetime=2021-05-17>17/05/2021</time></header><a href=/lobotourisme/post/bottes-moto-stylmartin-rocket/ class="image featured"><img src=https://loboto51.github.io/lobotourisme/post/bottes-moto-stylmartin-rocket/cover.jpg alt="Bottes moto Stylmartin Rocket"></a></article><article class=mini-post><header><h3><a href=/lobotourisme/post/>Post</a></h3><time class=published datetime=2021-05-17>17/05/2021</time></header></article><article class=mini-post><header><h3><a href=/lobotourisme/post/fabrication-des-favicons-en-masse-avec-imagemagick/>Fabrication des favicons en masse avec Imagemagick</a></h3><time class=published datetime=2021-05-15>15/05/2021</time></header><a href=/lobotourisme/post/fabrication-des-favicons-en-masse-avec-imagemagick/ class="image featured"><img src=https://loboto51.github.io/lobotourisme/post/fabrication-des-favicons-en-masse-avec-imagemagick/cover.jpg alt="Fabrication des favicons en masse avec Imagemagick"></a></article><article class=mini-post><header><h3><a href=/lobotourisme/post/protections-moto-sas-tec-sc-1-06-evo/>Protections moto SAS-TEC SC-1-06EVO</a></h3><time class=published datetime=2021-05-15>15/05/2021</time></header><a href=/lobotourisme/post/protections-moto-sas-tec-sc-1-06-evo/ class="image featured"><img src=https://loboto51.github.io/lobotourisme/post/protections-moto-sas-tec-sc-1-06-evo/cover.jpg alt="Protections moto SAS-TEC SC-1-06EVO"></a></article><article class=mini-post><header><h3><a href=/lobotourisme/post/galets-lave-vaisselle-maison/>Galets lave-vaisselle maison</a></h3><time class=published datetime=2021-05-10>10/05/2021</time></header><a href=/lobotourisme/post/galets-lave-vaisselle-maison/ class="image featured"><img src=https://loboto51.github.io/lobotourisme/post/galets-lave-vaisselle-maison/cover.jpg alt="Galets lave-vaisselle maison"></a></article><a href=/blog/ class=button>Voir plus</a></div></section></section><section id=share-menu><section id=social-share-nav><ul class=links><header><h3>Partager ce post <i class="fa fa-smile-o"></i></h3></header><li><a href="mailto:?subject=Check out this post by &body=https%3a%2f%2floboto51.github.io%2flobotourisme%2fpost%2ffabrication-de-miniatures-avec-extrapolation-des-bords-avec-imagemagick%2f" target=_blank class="share-btn email"><i class="fa fa-envelope"></i><p>Email</p></a></li></ul></section></section><div id=main><article class=post><header><div class=title><h1><a href=/lobotourisme/post/fabrication-de-miniatures-avec-extrapolation-des-bords-avec-imagemagick/>Fabrication de miniatures avec extrapolation des bords avec Imagemagick</a></h1></div><div class=meta><time class=published datetime="2021-05-07 00:00:00 +0000 UTC">07/05/2021</time>
<span class=author></span><p>4 minutes</p></div></header><div><div id=go-to-folding-div style=display:inline-block;vertical-align:top;height:1px;margin-top:-4em></div><div id=code-folding-buttons class="btn-group pull-right"><button type=button class="btn btn-default btn-xs dropdown-toggle" data-toggle=dropdown aria-haspopup=true aria-expanded=true data-_extension-text-contrast>
<span>Afficher/Masquer codes</span>
<span class=caret></span></button><ul class=dropdown-menu style=min-width:50px><li><a id=rmd-show-all-code href=#go-to-folding-div>Afficher tous codes</a></li><li><a id=rmd-hide-all-code href=#go-to-folding-div>Masquer tous codes</a></li></ul></div><br><div id=content class=article-entry><hr><p>Edit du 15/05/2021 : J&rsquo;ai intégré 3 modes de fabrication de miniature dans le script, pour pouvoir ensuite choisir facilement le meilleur résultat.
Entre temps j&rsquo;ai changé de thème Hugo (<a href=https://github.com/statnmap/hugo-future-imperfect>hugo-future-imperfect</a>) et les miniatures de 800x300 s&rsquo;y prêtent mieux.</p><hr><p>J&rsquo;ai choisi de générer des miniatures pour chacun de mes billets en réutilisant des photos issues des articles.</p><p>J&rsquo;utilise 3 techniques pour produire des images aux dimensions qui me conviennent :</p><h2 id=technique-1--remplissage-des-zones-vides-par-extrapolation>Technique 1 : Remplissage des zones vides par extrapolation</h2><p>J&rsquo;ai légèrement adapté une série de commandes <a href=https://imagemagick.org/><em>Imagemagick</em></a> concoctées par <em>fmw42</em> (le fameux Fred de <a href=http://www.fmwconcepts.com/imagemagick/index.php>Fred&rsquo;s ImageMagick Scripts</a>) dans cette page de forum : <a href="https://legacy.imagemagick.org/discourse-server/viewtopic.php?t=26928">ImageMagick - turn image with borders into full bleed image</a>.</p><p>Le code est un peu long, je mets à la fin de l&rsquo;article un script <em>shell</em> comportant l&rsquo;ensemble.</p><p>Le résultat est assez bluffant, il faut parfois regarder de près les zones extrapolées pour réaliser qu&rsquo;elles sont artificielles (ici en 300x300) :</p><p><img src=alpinestars-nucleon-racing-hr-kr_HB_niv2_face__source_revzilla_thumbnail.jpg alt=alpinestars-nucleon-racing-hr-kr_HB_niv2_face__source_revzilla_thumbnail></p><p><img src=Course-rocker_jean_aramide_AA_thumbnail.jpg alt=Course-rocker_jean_aramide_AA_thumbnail.jpg></p><p>En revanche les grands aplats de blanc ne lui conviennent pas :</p><p><img src=sastec-sc1-evo1-new__EA-KA-SB_niv2__source_sastec_thumbnail.jpg alt=sastec-sc1-evo1-new__EA-KA-SB_niv2__source_sastec_thumbnail.jpg></p><h2 id=technique-2--remplissage-des-zones-vides-par-un-fond-blanc>Technique 2 : Remplissage des zones vides par un fond blanc</h2><p>Comme le titre l&rsquo;indique.</p><p>La commande est simple :</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>convert IMAGESOURCE -resize XxY -background white -gravity center -extent XxY IMAGECIBLE
</code></pre></div><h2 id=technique-3--remplissage-des-zones-vides-par-une-version-floue-et-déformée-de-limage>Technique 3 : Remplissage des zones vides par une version floue et déformée de l&rsquo;image</h2><p>J&rsquo;ai repris une commande aussi concoctée par <em>Fred/fmw42</em> dans cette page de forum : <a href="https://legacy.imagemagick.org/discourse-server/viewtopic.php?t=28035">ImageMagick - Keep Aspect Ratio on Resize and Fill with Blur Background</a>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>convert IMAGESOURCE <span style=color:#ae81ff>\(</span> -clone <span style=color:#ae81ff>0</span> -blur 0x9 -resize XxY<span style=color:#ae81ff>\!</span> <span style=color:#ae81ff>\)</span> <span style=color:#ae81ff>\(</span> -clone <span style=color:#ae81ff>0</span> -resize XxY <span style=color:#ae81ff>\)</span> -delete <span style=color:#ae81ff>0</span> -gravity center -compose over -composite  IMAGECIBLE
</code></pre></div><h2 id=le-script->Le script :</h2><p>J&rsquo;ai créé un script shell, qui prend tous les fichiers du sous-répertoire <em>&ldquo;a_traiter/"</em> et produit les résultats selon les 3 modes dans le répertoire <em>&ldquo;res/"</em> .</p><p>Mise en place :</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>mkdir gen_thumb_sparse_voronoi
cd gen_thumb_sparse_voronoi
mkdir a_traiter res
touch gen_thumb_sparse_voronoi.sh
</code></pre></div><p>Editer le fichier <em>&ldquo;gen_thumb_sparse_voronoi.sh&rdquo;</em> et y mettre :</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#75715e>#!/bin/bash
</span><span style=color:#75715e></span>
<span style=color:#66d9ef>for</span> fic in a_traiter/*
<span style=color:#66d9ef>do</span>
	echo <span style=color:#e6db74>${</span>fic<span style=color:#e6db74>}</span>
	ficsource<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>basename <span style=color:#e6db74>${</span>fic<span style=color:#e6db74>}</span><span style=color:#66d9ef>)</span>
	xcible<span style=color:#f92672>=</span><span style=color:#ae81ff>800</span>
	ycible<span style=color:#f92672>=</span><span style=color:#ae81ff>300</span>
	size<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>xcible<span style=color:#e6db74>}</span>x<span style=color:#e6db74>${</span>ycible<span style=color:#e6db74>}</span>
	convert <span style=color:#e6db74>${</span>fic<span style=color:#e6db74>}</span> -resize <span style=color:#e6db74>${</span>size<span style=color:#e6db74>}</span> res/tmp.png 

	xoff<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>convert res/tmp.png -format <span style=color:#e6db74>&#34;%w&#34;</span> info:<span style=color:#e6db74>`</span>
	yoff<span style=color:#f92672>=</span><span style=color:#e6db74>`</span>convert res/tmp.png -format <span style=color:#e6db74>&#34;%h&#34;</span> info:<span style=color:#e6db74>`</span>
	yoff<span style=color:#f92672>=</span><span style=color:#66d9ef>$((</span><span style=color:#f92672>(</span><span style=color:#e6db74>${</span>ycible<span style=color:#e6db74>}</span><span style=color:#f92672>-</span><span style=color:#e6db74>${</span>yoff<span style=color:#e6db74>}</span><span style=color:#f92672>)/</span><span style=color:#ae81ff>2</span><span style=color:#66d9ef>))</span>
	xoff<span style=color:#f92672>=</span><span style=color:#66d9ef>$((</span><span style=color:#f92672>(</span><span style=color:#e6db74>${</span>xcible<span style=color:#e6db74>}</span><span style=color:#f92672>-</span><span style=color:#e6db74>${</span>xoff<span style=color:#e6db74>}</span><span style=color:#f92672>)/</span><span style=color:#ae81ff>2</span><span style=color:#66d9ef>))</span>
	vcoords<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>size<span style=color:#e6db74>}</span><span style=color:#e6db74>-</span><span style=color:#e6db74>${</span>xoff<span style=color:#e6db74>}</span><span style=color:#e6db74>-</span><span style=color:#e6db74>${</span>yoff<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
	echo <span style=color:#e6db74>${</span>vcoords<span style=color:#e6db74>}</span>
	convert res/tmp.png -transparent white +repage <span style=color:#ae81ff>\(</span> -clone <span style=color:#ae81ff>0</span> -alpha off -sparse-color Voronoi <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>	<span style=color:#e6db74>&#34;9,9 rgb(255,8,8)  969,9 rgb(255,255,8)  969,669 rgb(255,255,248)  9,669 rgb(255,248,248)&#34;</span> <span style=color:#ae81ff>\)</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>	+swap -compose over -composite <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>	-define distort:viewport<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>size<span style=color:#e6db74>}</span>-<span style=color:#e6db74>${</span>xoff<span style=color:#e6db74>}</span>-<span style=color:#e6db74>${</span>yoff<span style=color:#e6db74>}</span> +distort SRT <span style=color:#ae81ff>0</span> +repage res/<span style=color:#e6db74>${</span>ficsource<span style=color:#e6db74>}</span>.mode1.jpg
	rm -f res/tmp.png
	
	convert <span style=color:#e6db74>${</span>fic<span style=color:#e6db74>}</span> -resize <span style=color:#e6db74>${</span>xcible<span style=color:#e6db74>}</span>x<span style=color:#e6db74>${</span>ycible<span style=color:#e6db74>}</span> -background white -gravity center -extent <span style=color:#e6db74>${</span>xcible<span style=color:#e6db74>}</span>x<span style=color:#e6db74>${</span>ycible<span style=color:#e6db74>}</span> res/<span style=color:#e6db74>${</span>ficsource<span style=color:#e6db74>}</span>.mode2.jpg
	
	convert <span style=color:#e6db74>${</span>fic<span style=color:#e6db74>}</span> <span style=color:#ae81ff>\(</span> -clone <span style=color:#ae81ff>0</span> -blur 0x9 -resize <span style=color:#e6db74>${</span>xcible<span style=color:#e6db74>}</span>x<span style=color:#e6db74>${</span>ycible<span style=color:#e6db74>}</span><span style=color:#ae81ff>\!</span> <span style=color:#ae81ff>\)</span> <span style=color:#ae81ff>\(</span> -clone <span style=color:#ae81ff>0</span> -resize <span style=color:#e6db74>${</span>xcible<span style=color:#e6db74>}</span>x<span style=color:#e6db74>${</span>ycible<span style=color:#e6db74>}</span> <span style=color:#ae81ff>\)</span> -delete <span style=color:#ae81ff>0</span> -gravity center -compose over -composite res/<span style=color:#e6db74>${</span>ficsource<span style=color:#e6db74>}</span>.mode3.jpg
<span style=color:#66d9ef>done</span>
</code></pre></div><p>Il n&rsquo;y a plus qu&rsquo;à mettre une image dans le répertoire <em>&ldquo;a_traiter/"</em> et lancer le script :</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>cd gen_thumb_sparse_voronoi/
./gen_thumb_sparse_voronoi.sh
</code></pre></div><p>Le résultat sera produit dans <em>&ldquo;res/"</em>.</p><p>Exemple :</p><p><img src=sastec-sc1-06evo-new__EB-KB_niv2__vs__esquad_hilon_EA-KA-SA_niv1.jpg.mode1.jpg alt="mode 1"></p><p><img src=sastec-sc1-06evo-new__EB-KB_niv2__vs__esquad_hilon_EA-KA-SA_niv1.jpg.mode2.jpg alt="mode 2"></p><p><img src=sastec-sc1-06evo-new__EB-KB_niv2__vs__esquad_hilon_EA-KA-SA_niv1.jpg.mode3.jpg alt="mode 3"></p><h2 id=question--pourquoi-ne-pas-utiliser-simplement-les-fonctions-hugo->Question : Pourquoi ne pas utiliser simplement les fonctions Hugo ?</h2><p>Effectivement, Hugo fournit pas mal de fonctions pour manipuler les images : Redimensionnement/découpage/etc. (<a href=https://gohugo.io/content-management/image-processing/>gohugo - image processing</a>), et il suffit de bricoler ses fichiers <em>layout</em> pour avoir rapidement quelque chose de présentable (ex : <a href=https://discourse.gohugo.io/t/solved-display-cover-image-on-post-list/13141/2>discourse-gohugo - Display cover image on post list</a>).</p><p>Les seules de ces techniques qui permettent d&rsquo;avoir des miniatures de mêmes dimensions (ex. : 300 px x 300 px) sont <em>.Resize</em> qui va déformer l&rsquo;image et <em>.Fill</em> qui va la tronquer, mais si ces limitations ne vous gênent pas, cette méthode est nettement plus pratique que celle au dessus.</p><p>L&rsquo;ensemble des transformations disponibles dans <em>Hugo</em> :</p><ul><li><em>.Resize</em> : Permet de redimensionner l&rsquo;image selon 3 modes :<ul><li>Hauteur fixée -> Les proportions sont maintenues ;</li><li>Largeur fixée -> Les proportions sont maintenues ;</li><li>Hauteur et largeur fixées -> Les proportions ne sont pas maintenues ;</li></ul></li><li><em>.Fit</em> : On indique une hauteur et une largeur <strong>maximum</strong> et Hugo redimensionne l&rsquo;image pour qu&rsquo;elle tienne dedans (c&rsquo;est un <em>.Resize</em> qui s&rsquo;arrête dès qu&rsquo;il ne peut plus poursuivre sans modifier les proportions) ;</li><li><em>.Fill</em> : On indique une hauteur et une largeur <strong>minimum</strong> et Hugo tente d&rsquo;y insérer le maximum de l&rsquo;image sans modifier les proportions. Par défaut il choisit seul mais on peut lui donner des directives : <em>smart</em> (défaut), <em>left</em>, <em>right</em>&mldr;</li></ul><p>Il y a énormément d&rsquo;exemples ici : <a href=https://gohugo.io/content-management/image-processing/>gohugo - image processing</a></p></div></div><footer><ul class=stats><li class=categories><ul><i class="fa fa-folder"></i><li><a class=article-category-link href=/lobotourisme/categories/dev>dev</a></li></ul></li><li class=tags><ul><i class="fa fa-tags"></i><li><a class=article-category-link href=/lobotourisme/tags/hugo>hugo</a></li><li><a class=article-category-link href=/lobotourisme/tags/imagemagick>imagemagick</a></li></ul></li></ul><script>$(document).ready(function(){window.initializeCodeFolding("show"==="hide")})</script><script>window.initializeCodeFolding=function(a){var b,c;$("#rmd-show-all-code").click(function(){$('div.r-code-collapse').each(function(){$(this).collapse('show')})}),$("#rmd-hide-all-code").click(function(){$('div.r-code-collapse').each(function(){$(this).collapse('hide')})}),b=1,c=$('pre.sourceCode, pre.r, pre.python, pre.bash, pre.sql, pre.cpp, pre.stan, pre.js, pre.css, pre.html, pre.yaml'),c.each(function(){var c=$('<div class="collapse r-code-collapse"></div>'),d,e,f,g,h;a&&c.addClass('in'),d='rcode-643E0F36'+b++,c.attr('id',d),$(this).before(c),$(this).detach().appendTo(c),e=$('<span>'+(a?'Masquer':'Code')+'</span>'),f=$('<button type="button" class="btn btn-default btn-xs code-folding-btn pull-right"></button>'),f.append(e),f.attr('data-toggle','collapse').attr('data-target','#'+d).attr('aria-expanded',a).attr('aria-controls',d),g=$('<div class="row"></div>'),h=$('<div class="col-md-12"></div>'),h.append(f),g.append(h),c.before(g),c.on('hidden.bs.collapse',function(){e.text('Code')}),c.on('show.bs.collapse',function(){e.text('Masquer')})})}</script></footer><div class=related-articles><h3>Articles similaires</h3><ul><li><ul><article class=mini-post><header><h3><a href=/lobotourisme/post/m%C3%A9mo-des-modifications-du-th%C3%A8me-hugo-clarity/>Mémo des modifications du thème hugo-clarity</a></h3><time class=published datetime="2021-05-02 00:00:00 +0000 UTC">02/05/2021</time></header><a href=/lobotourisme/post/m%C3%A9mo-des-modifications-du-th%C3%A8me-hugo-clarity/ class="image featured"><img src=https://loboto51.github.io/lobotourisme/post/m%C3%A9mo-des-modifications-du-th%C3%A8me-hugo-clarity/cover.jpg alt="Mémo des modifications du thème hugo-clarity"></a></article></ul><ul><article class=mini-post><header><h3><a href=/lobotourisme/post/d%C3%A9ployer-un-site-web-statique-hugo-sur-github-pages/>Déployer un site web statique Hugo sur Github Pages</a></h3><time class=published datetime="2021-04-22 00:00:00 +0000 UTC">22/04/2021</time></header><a href=/lobotourisme/post/d%C3%A9ployer-un-site-web-statique-hugo-sur-github-pages/ class="image featured"><img src=https://loboto51.github.io/lobotourisme/post/d%C3%A9ployer-un-site-web-statique-hugo-sur-github-pages/cover.jpg alt="Déployer un site web statique Hugo sur Github Pages"></a></article></ul></li></ul></div></article><article class=post><p>Si ce contenu vous a intéressé, vous pouvez me laisser un commentaire en utilisant votre compte Github ci-dessous, ou en m'envoyant un mail via <a href=/lobotourisme/contact/>le formulaire de contact</a>.</p><script src=https://utteranc.es/client.js repo=loboto51/lobotourisme issue-term=pathname theme=github-light crossorigin=anonymous async></script></article><ul class="actions pagination"><li><a href=/lobotourisme/post/jean-moto-course-rocker/ class="button big previous">Jean moto Course Rocker</a></li><li><a href=/lobotourisme/post/solutions-pour-g%C3%A9rer-des-commentaires-sur-hugo-+-github-pages/ class="button big next">Solutions pour gérer des commentaires sur Hugo + Github Pages</a></li></ul></div><section id=sidebar><section id=intro><a href=/lobotourisme/><img src=/lobotourisme/favicons/favicon-128x128.png width=128 alt=Lobotourisme></a><header><h2>Lobotourisme</h2><p>Bloc-note de l'espaaace</p></header><ul class=icons><li><a href=//github.com/loboto51 target=_blank title=GitHub class="fa fa-github"></a></li><li><a href=mailto:example title=Email class="fa fa-envelope"></a></li></ul></section><section class=recent-posts><div class=mini-posts><header><h3>Posts récents</h3></header><div class=posts-container><article class=mini-post><header><h3><a href=/lobotourisme/post/bottes-moto-stylmartin-rocket/>Bottes moto Stylmartin Rocket</a></h3><time class=published datetime="2021-05-17 00:00:00 +0000 UTC">17/05/2021</time></header><a href=/lobotourisme/post/bottes-moto-stylmartin-rocket/ class="image featured"><img src=https://loboto51.github.io/lobotourisme/post/bottes-moto-stylmartin-rocket/cover.jpg alt="Bottes moto Stylmartin Rocket"></a></article><article class=mini-post><header><h3><a href=/lobotourisme/post/fabrication-des-favicons-en-masse-avec-imagemagick/>Fabrication des favicons en masse avec Imagemagick</a></h3><time class=published datetime="2021-05-15 00:00:00 +0000 UTC">15/05/2021</time></header><a href=/lobotourisme/post/fabrication-des-favicons-en-masse-avec-imagemagick/ class="image featured"><img src=https://loboto51.github.io/lobotourisme/post/fabrication-des-favicons-en-masse-avec-imagemagick/cover.jpg alt="Fabrication des favicons en masse avec Imagemagick"></a></article><article class=mini-post><header><h3><a href=/lobotourisme/post/protections-moto-sas-tec-sc-1-06-evo/>Protections moto SAS-TEC SC-1-06EVO</a></h3><time class=published datetime="2021-05-15 00:00:00 +0000 UTC">15/05/2021</time></header><a href=/lobotourisme/post/protections-moto-sas-tec-sc-1-06-evo/ class="image featured"><img src=https://loboto51.github.io/lobotourisme/post/protections-moto-sas-tec-sc-1-06-evo/cover.jpg alt="Protections moto SAS-TEC SC-1-06EVO"></a></article><article class=mini-post><header><h3><a href=/lobotourisme/post/galets-lave-vaisselle-maison/>Galets lave-vaisselle maison</a></h3><time class=published datetime="2021-05-10 00:00:00 +0000 UTC">10/05/2021</time></header><a href=/lobotourisme/post/galets-lave-vaisselle-maison/ class="image featured"><img src=https://loboto51.github.io/lobotourisme/post/galets-lave-vaisselle-maison/cover.jpg alt="Galets lave-vaisselle maison"></a></article><article class=mini-post><header><h3><a href=/lobotourisme/post/solutions-pour-g%C3%A9rer-des-commentaires-sur-hugo-+-github-pages/>Solutions pour gérer des commentaires sur Hugo + Github Pages</a></h3><time class=published datetime="2021-05-10 00:00:00 +0000 UTC">10/05/2021</time></header><a href=/lobotourisme/post/solutions-pour-g%C3%A9rer-des-commentaires-sur-hugo-+-github-pages/ class="image featured"><img src=https://loboto51.github.io/lobotourisme/post/solutions-pour-g%C3%A9rer-des-commentaires-sur-hugo-+-github-pages/cover.jpg alt="Solutions pour gérer des commentaires sur Hugo + Github Pages"></a></article></div><a href=/blog/ class=button>Voir plus</a></div></section><section id=categories><header><h3><a href=/fr/categories/>Catégories</a></h3></header><p><article><header><a href=/lobotourisme/categories/moto/>moto</a>
<span style=float:right>10</span></header></article></p><p><article><header><a href=/lobotourisme/categories/protections-moto/>protections-moto</a>
<span style=float:right>8</span></header></article></p><p><article><header><a href=/lobotourisme/categories/dev/>dev</a>
<span style=float:right>5</span></header></article></p><p><article><header><a href=/lobotourisme/categories/maison/>maison</a>
<span style=float:right>2</span></header></article></p><p><article><header><a href=/lobotourisme/categories/%C3%A9cologie/>écologie</a>
<span style=float:right>2</span></header></article></p><p><article><header><a href=/lobotourisme/categories/bottes-moto/>bottes-moto</a>
<span style=float:right>1</span></header></article></p><p><article><header><a href=/lobotourisme/categories/pantalons-moto/>pantalons-moto</a>
<span style=float:right>1</span></header></article></p></section><section id=mini-bio><h3>à propos</h3><p>Ce site me sert de bloc-note pour diverses choses que je souhaite conserver ou partager. Essentiellement mes recherches sur le net sur les protections moto, et des petites docs linux.</p><a href=/lobotourisme/about class=button>En savoir plus</a></section><section id=footer><ul class=icons><li><a href=//github.com/loboto51 target=_blank title=GitHub class="fa fa-github"></a></li><li><a href=mailto:example title=Email class="fa fa-envelope"></a></li></ul><p class=copyright>&copy; 2021
Lobotourisme
.
Powered by <a href=//gohugo.io target=_blank>Hugo</a></p></section></section><a id=back-to-top href=# class="fa fa-arrow-up fa-border fa-2x"></a><script src=//cdn.bootcss.com/highlight.js/9.11.0/highlight.min.js></script><script src=//cdn.bootcss.com/highlight.js/9.11.0/languages/r.min.js></script><script src=//cdn.bootcss.com/highlight.js/9.11.0/languages/yaml.min.js></script><script src=//cdn.bootcss.com/highlight.js/9.11.0/languages/css.min.js></script><script>hljs.configure({languages:[]}),hljs.initHighlightingOnLoad()</script><script src=https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.25/jquery.fancybox.min.js></script><script src=/lobotourisme/js/util.js></script><script src=/lobotourisme/js/main.js></script><script src=/lobotourisme/js/backToTop.js></script><script>hljs.initHighlightingOnLoad()</script><script src=/lobotourisme/js/math-code.js></script><script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script src=/lobotourisme/js/collapse.js></script><script src=/lobotourisme/js/dropdown.js></script><script src=/lobotourisme/js/transition.js></script></body></html>