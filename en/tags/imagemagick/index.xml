<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Imagemagick on Lobotourisme</title><link>https://loboto51.github.io/lobotourisme/en/tags/imagemagick/</link><description>Lobotourisme (Imagemagick)</description><generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Sat, 15 May 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://loboto51.github.io/lobotourisme/en/tags/imagemagick/index.xml" rel="self" type="application/rss+xml"/><item><title>Memo: Mass production of favicons with Imagemagick + conf files for browsers</title><link>https://loboto51.github.io/lobotourisme/en/post/fabrication-des-favicons-en-masse-avec-imagemagick/</link><pubDate>Sat, 15 May 2021 00:00:00 +0000</pubDate><guid>https://loboto51.github.io/lobotourisme/en/post/fabrication-des-favicons-en-masse-avec-imagemagick/</guid><description>&lt;p>&lt;em>(This post was automatically translated with &lt;a href="http://www.DeepL.com/Translator">www.DeepL.com/Translator&lt;/a>)&lt;/em>&lt;/p>
&lt;p>Below I list a series of Imagemagick commands to generate all the favicon variants that a website can offer to browsers, from a good quality original.&lt;/p>
&lt;p>I indicate at the end of the article the 2 conf files to update, as well as a modification of the Hugo theme, which will be useful for all browsers to find their little ones.&lt;/p>
&lt;h2 id="original-image" >Original image
&lt;span>
&lt;a href="#original-image">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>I bought a nice icon on the very good website &lt;a href="https://thenounproject.com/">The Noun Project&lt;/a> : &lt;a href="https://thenounproject.com/term/space/2217279/">Space drawn by Adrien Coquet&lt;/a>.&lt;/p>
&lt;p>I modified it in &lt;em>Inkscape&lt;/em> to add a border, then I put it in &lt;em>./static/favicons/&lt;/em>, as well as a 1024x1024 PNG version &amp;ldquo;&lt;em>logo_large.png&lt;/em>&amp;rdquo;.&lt;/p>
&lt;h3 id="generating-variants" >Generating variants
&lt;span>
&lt;a href="#generating-variants">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Variants recommended by &lt;a href="https://www.emergeinteractive.com/insights/detail/the-essentials-of-favicons/">The 2020 Guide to FavIcons for Nearly Everyone and Every Browser&lt;/a>, &lt;a href="https://github.com/audreyfeldroy/favicon-cheat-sheet">favicon-cheat-sheet&lt;/a> and &lt;a href="https://realfavicongenerator.net">https://realfavicongenerator.net&lt;/a>.&lt;/p>
&lt;p>The configuration of the unsharp command comes from the doc &lt;a href="https://legacy.imagemagick.org/Usage/resize/">Imagemagick Resize or Scaling&lt;/a>, it is the one applied by the GIMP software.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>mkdir -p ./static/favicons/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#favicon-16x16.png&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>convert ./static/logos/logo_large.png -resize 16x16 -unsharp 0x6+0.5+0 ./static/favicons/favicon-16x16.png
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#favicon-32x32.png&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>convert ./static/logos/logo_large.png -resize 32x32 -unsharp 0x6+0.5+0 ./static/favicons/favicon-32x32.png
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#favicon-48x48.png&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>convert ./static/logos/logo_large.png -resize 48x48 -unsharp 0x6+0.5+0 ./static/favicons/favicon-48x48.png
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#favicon-128x128.png&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>convert ./static/logos/logo_large.png -resize 128x128 -unsharp 0x6+0.5+0 ./static/favicons/favicon-128x128.png
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#favicon-152x152.png&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>convert ./static/logos/logo_large.png -resize 152x152 -unsharp 0x6+0.5+0 ./static/favicons/favicon-152x152.png
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#favicon-167x167.png&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>convert ./static/logos/logo_large.png -resize 167x167 -unsharp 0x6+0.5+0 ./static/favicons/favicon-167x167.png
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#favicon-180x180.png&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>convert ./static/logos/logo_large.png -resize 180x180 -unsharp 0x6+0.5+0 ./static/favicons/favicon-180x180.png
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#favicon-192x192.png&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>convert ./static/logos/logo_large.png -resize 192x192 -unsharp 0x6+0.5+0 ./static/favicons/favicon-192x192.png
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#favicon-196x196.png&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>convert ./static/logos/logo_large.png -resize 196x196 -unsharp 0x6+0.5+0 ./static/favicons/favicon-196x196.png
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#favicon-256x256.png&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>convert ./static/logos/logo_large.png -resize 256x256 -unsharp 0x6+0.5+0 ./static/favicons/favicon-256x256.png
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#favicon-512x512.png&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>convert ./static/logos/logo_large.png -resize 512x512 -unsharp 0x6+0.5+0 ./static/favicons/favicon-512x512.png
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="favicon-16x16.png" alt="favicon-16x16.png">&lt;img src="favicon-32x32.png" alt="favicon-32x32.png">&lt;img src="favicon-48x48.png" alt="favicon-48x48.png">&lt;img src="favicon-128x128.png" alt="favicon-128x128.png">&lt;img src="favicon-152x152.png" alt="favicon-152x152.png">&lt;img src="favicon-167x167.png" alt="favicon-167x167.png">&lt;img src="favicon-180x180.png" alt="favicon-180x180.png">&lt;img src="favicon-192x192.png" alt="favicon-192x192.png">&lt;img src="favicon-196x196.png" alt="favicon-196x196.png">&lt;img src="favicon-256x256.png" alt="favicon-256x256.png">&lt;img src="favicon-512x512.png" alt="favicon-512x512.png">&lt;/p>
&lt;p>The favicon in the &amp;ldquo;&lt;em>.ico&lt;/em>&amp;rdquo; format combines 3 formats, 16x16, 32x32 and 48x48 in one container:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#favicon.ico&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>convert ./static/favicons/favicon-16x16.png ./static/favicons/favicon-32x32.png ./static/favicons/favicon-48x48.png ./static/favicon.ico
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Browser specific favicons :&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#mstiles 70x70&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>convert ./static/logos/logo_large.png -resize 70x70 -unsharp 0x6+0.5+0 ./static/favicons/mstiles-70x70.png
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#mstiles 144x144&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>convert ./static/logos/logo_large.png -resize 144x144 -unsharp 0x6+0.5+0 ./static/favicons/mstiles-144x144.png
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#mstiles 150x150&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>convert ./static/logos/logo_large.png -resize 150x150 -unsharp 0x6+0.5+0 ./static/favicons/mstiles-150x150.png
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#mstiles 310x150&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>convert ./static/logos/logo_large.png -resize 150x150 -unsharp 0x6+0.5+0 -background transparent -gravity center -extent 310x150 ./static/favicons/mstiles-310x150.png
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#mstiles 310x310&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>convert ./static/logos/logo_large.png -resize 310x310 -unsharp 0x6+0.5+0 ./static/favicons/mstiles-310x310.png
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;img src="mstiles-70x70.png" alt="mstiles-70x70.png">
&lt;img src="mstiles-144x144.png" alt="mstiles-144x144.png">
&lt;img src="mstiles-150x150.png" alt="mstiles-150x150.png">
&lt;img src="mstiles-310x150.png" alt="mstiles-310x150.png">
&lt;img src="mstiles-310x310.png" alt="mstiles-310x310.png">&lt;/p>
&lt;h3 id="file-ieconfigxml" >File ieconfig.xml
&lt;span>
&lt;a href="#file-ieconfigxml">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>I put it in the root.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-xml" data-lang="xml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;utf-8&amp;#34;?&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;browserconfig&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;msapplication&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;tile&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;square70x70logo&lt;/span> &lt;span style="color:#a6e22e">src=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;favicons/mstiles-70x70.png&amp;#34;&lt;/span>&lt;span style="color:#f92672">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;square144x144logo&lt;/span> &lt;span style="color:#a6e22e">src=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;favicons/mstiles-144x144.png&amp;#34;&lt;/span>&lt;span style="color:#f92672">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;square150x150logo&lt;/span> &lt;span style="color:#a6e22e">src=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;favicons/mstiles-150x150.png&amp;#34;&lt;/span>&lt;span style="color:#f92672">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;wide310x150logo&lt;/span> &lt;span style="color:#a6e22e">src=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;favicons/mstiles-310x150.png&amp;#34;&lt;/span>&lt;span style="color:#f92672">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;square310x310logo&lt;/span> &lt;span style="color:#a6e22e">src=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;favicons/mstiles-310x310.png&amp;#34;&lt;/span>&lt;span style="color:#f92672">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;TileColor&amp;gt;&lt;/span>#FFFFFF&lt;span style="color:#f92672">&amp;lt;/TileColor&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;/tile&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;/msapplication&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;lt;/browserconfig&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="webmanifest-file" >Webmanifest file
&lt;span>
&lt;a href="#webmanifest-file">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>I put it in the root.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;name&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;Lobotourisme&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;short_name&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;Lobotourisme&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;icons&amp;#34;&lt;/span>: [
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;src&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;favicons/favicon-192x192.png&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;sizes&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;192x192&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;type&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;image/png&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> },
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;src&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;favicons/favicon-256x256.png&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;sizes&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;256x256&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;type&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;image/png&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> },
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;src&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;favicons/favicon-512x512.png&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;sizes&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;512x512&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;type&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;image/png&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ],
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;theme_color&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;#ffffff&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;background_color&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;#ffffff&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">&amp;#34;display&amp;#34;&lt;/span>: &lt;span style="color:#e6db74">&amp;#34;standalone&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="modification-of-the-hugo-theme-so-that-it-uses-all-our-favicon-variants" >Modification of the Hugo theme so that it uses all our favicon variants
&lt;span>
&lt;a href="#modification-of-the-hugo-theme-so-that-it-uses-all-our-favicon-variants">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Find the &lt;em>layout&lt;/em> that lists favicons and add :&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-html" data-lang="html">&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">link&lt;/span> &lt;span style="color:#a6e22e">rel&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;icon&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">href&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;{{ &amp;#34;favicons/favicon.png&amp;#34; | relURL }}&amp;#39;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">link&lt;/span> &lt;span style="color:#a6e22e">rel&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;icon&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">type&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;image/png&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">sizes&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;16x16&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">href&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;{{ &amp;#34;favicons/favicon-16x16.png&amp;#34; | relURL }}&amp;#39;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">link&lt;/span> &lt;span style="color:#a6e22e">rel&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;icon&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">type&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;image/png&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">sizes&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;32x32&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">href&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;{{ &amp;#34;favicons/favicon-32x32.png&amp;#34; | relURL }}&amp;#39;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">link&lt;/span> &lt;span style="color:#a6e22e">rel&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;icon&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">type&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;image/png&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">sizes&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;128x128&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">href&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;{{ &amp;#34;favicons/favicon-128x128.png&amp;#34; | relURL }}&amp;#39;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">link&lt;/span> &lt;span style="color:#a6e22e">rel&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;icon&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">type&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;image/png&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">sizes&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;152x152&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">href&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;{{ &amp;#34;favicons/favicon-152x152.png&amp;#34; | relURL }}&amp;#39;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">link&lt;/span> &lt;span style="color:#a6e22e">rel&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;icon&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">type&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;image/png&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">sizes&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;167x167&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">href&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;{{ &amp;#34;favicons/favicon-167x167.png&amp;#34; | relURL }}&amp;#39;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">link&lt;/span> &lt;span style="color:#a6e22e">rel&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;icon&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">type&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;image/png&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">sizes&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;180x180&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">href&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;{{ &amp;#34;favicons/favicon-180x180.png&amp;#34; | relURL }}&amp;#39;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">link&lt;/span> &lt;span style="color:#a6e22e">rel&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;icon&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">type&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;image/png&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">sizes&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;192x192&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">href&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;{{ &amp;#34;favicons/favicon-192x192.png&amp;#34; | relURL }}&amp;#39;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">link&lt;/span> &lt;span style="color:#a6e22e">rel&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;icon&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">type&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;image/png&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">sizes&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;196x196&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">href&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;{{ &amp;#34;favicons/favicon-196x196.png&amp;#34; | relURL }}&amp;#39;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e">&amp;lt;!--[if IE]&amp;gt;&amp;lt;link rel=&amp;#34;shortcut icon&amp;#34; href=&amp;#39;favicon.ico&amp;#39;&amp;gt;&amp;lt;![endif]--&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">link&lt;/span> &lt;span style="color:#a6e22e">rel&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;apple-touch-icon-precomposed&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">href&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;{{ &amp;#34;favicons/favicon-180x180.png&amp;#34; | relURL }}&amp;#39;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">link&lt;/span> &lt;span style="color:#a6e22e">rel&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;apple-touch-icon&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">sizes&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;180x180&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">href&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;{{ &amp;#34;favicons/favicon-180x180.png&amp;#34; | relURL }}&amp;#39;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">link&lt;/span> &lt;span style="color:#a6e22e">rel&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;shortcut icon&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">sizes&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;196x196&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">href&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;{{ &amp;#34;favicons/favicon-196x196.png&amp;#34; | relURL }}&amp;#39;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">meta&lt;/span> &lt;span style="color:#a6e22e">name&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;msapplication-TileColor&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">content&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;#FFFFFF&amp;#34;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">meta&lt;/span> &lt;span style="color:#a6e22e">name&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;msapplication-TileImage&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">content&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;{{ &amp;#34;favicons/favicon-144x144.png&amp;#34; | relURL }}&amp;#39;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">link&lt;/span> &lt;span style="color:#a6e22e">rel&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;mask-icon&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">content&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;{{ &amp;#34;logos/logo_large.svg&amp;#34; | relURL }}&amp;#39;&lt;/span> &lt;span style="color:#a6e22e">color&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;#000000&amp;#34;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">meta&lt;/span> &lt;span style="color:#a6e22e">name&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;application-name&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">content&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Lobotourisme&amp;#34;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">meta&lt;/span> &lt;span style="color:#a6e22e">name&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;msapplication-tooltip&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">content&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Tooltip&amp;#34;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &amp;lt;&lt;span style="color:#f92672">meta&lt;/span> &lt;span style="color:#a6e22e">name&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;msapplication-config&amp;#34;&lt;/span> &lt;span style="color:#a6e22e">content&lt;/span>&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;{{ &amp;#34;ieconfig.xml&amp;#34; | relURL }}&amp;#39;&lt;/span>&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="to-check-that-everything-is-there" >To check that everything is there:
&lt;span>
&lt;a href="#to-check-that-everything-is-there">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;p>Go to &lt;a href="https://realfavicongenerator.net/favicon_checker">https://realfavicongenerator.net/favicon_checker&lt;/a> to test that everything is available.&lt;/p></description></item><item><title>3 Imagemagick methods to fill the empty areas of a cropped image</title><link>https://loboto51.github.io/lobotourisme/en/post/3-m%C3%A9thodes-imagemagick-pour-remplir-les-zones-vides-dune-image-recadr%C3%A9e/</link><pubDate>Fri, 07 May 2021 00:00:00 +0000</pubDate><guid>https://loboto51.github.io/lobotourisme/en/post/3-m%C3%A9thodes-imagemagick-pour-remplir-les-zones-vides-dune-image-recadr%C3%A9e/</guid><description>&lt;p>&lt;em>(This post was automatically translated with &lt;a href="http://www.DeepL.com/Translator">www.DeepL.com/Translator&lt;/a>)&lt;/em>&lt;/p>
&lt;p>I describe in this article 4 methods to fill the empty areas of an image when enlarging it, a basic technique, and 3 based on the initial image, for a more natural filling.
At the end of the article, I give a shell script to generate the 4 versions for a given image.&lt;/p>
&lt;blockquote>
&lt;p>&lt;em>Edit of 04/22/2023: Added the fill with the initial background color.&lt;/em>&lt;/p>
&lt;/blockquote>
&lt;h2 id="method-1-fill-empty-areas-with-a-solid-background" >Method 1: Fill empty areas with a solid background
&lt;span>
&lt;a href="#method-1-fill-empty-areas-with-a-solid-background">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;h3 id="simple-fixed-background-color-white" >Simple: Fixed background color (white)
&lt;span>
&lt;a href="#simple-fixed-background-color-white">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>convert IMAGESOURCE -trim -fuzz 5% +repage -auto-orient -resize XxY -background white -gravity center -extent XxY IMAGECIBLE
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>NB:_ Replace XxY with the desired dimensions and &amp;ldquo;&lt;em>white&lt;/em>&amp;rdquo; with the desired color.&lt;/p>
&lt;p>Example:&lt;/p>
&lt;p>&lt;img src="bottes_stylmartin_rocket_picto.jpg.mode11.jpg" alt="Mode 11">
&lt;img src="EN13594-1_-_DXR_-_SANCHEZ_PUNCHER.jpg.mode11.jpg" alt="Mode 11">
&lt;img src="EN13594-1KP_-_FIVE_-_TFX2_WOMAN_WP.jpg.mode11.jpg" alt="Mode 11">&lt;/p>
&lt;h3 id="advanced-background-color-taken-from-the-first-pixel-at-the-top-left-of-the-original-image" >Advanced: Background color taken from the first pixel at the top left of the original image
&lt;span>
&lt;a href="#advanced-background-color-taken-from-the-first-pixel-at-the-top-left-of-the-original-image">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h3>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>convert IMAGESOURCE -gravity northwest -crop 1x1+0+0 -format &lt;span style="color:#e6db74">&amp;#34;%[pixel:u]&amp;#34;&lt;/span> info:- | xargs -I &lt;span style="color:#f92672">{}&lt;/span> convert IMAGESOURCE -resize XxY -background &lt;span style="color:#f92672">{}&lt;/span> -gravity center -extent XxY IMAGECIBLE
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Example:&lt;/p>
&lt;p>&lt;img src="bottes_stylmartin_rocket_picto.jpg.mode12.jpg" alt="Mode 12">
&lt;img src="EN13594-1_-_DXR_-_SANCHEZ_PUNCHER.jpg.mode12.jpg" alt="Mode 12">
&lt;img src="EN13594-1KP_-_FIVE_-_TFX2_WOMAN_WP.jpg.mode12.jpg" alt="Mode 12">&lt;/p>
&lt;h2 id="method-2-fill-in-the-blanks-by-superimposing-the-image-on-its-blurred-and-distorted-version" >Method 2: Fill in the blanks by superimposing the image on its blurred and distorted version
&lt;span>
&lt;a href="#method-2-fill-in-the-blanks-by-superimposing-the-image-on-its-blurred-and-distorted-version">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>Inspiration:&lt;/p>
&lt;blockquote>
&lt;p>&lt;em>Fred/fmw42&lt;/em> in this forum page: &lt;a href="https://legacy.imagemagick.org/discourse-server/viewtopic.php?t=28035">ImageMagick - Keep Aspect Ratio on Resize and Fill with Blur Background&lt;/a>.&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>convert IMAGESOURCE &lt;span style="color:#ae81ff">\(&lt;/span> -clone &lt;span style="color:#ae81ff">0&lt;/span> -blur 0x9 -resize XxY! &lt;span style="color:#ae81ff">\)&lt;/span> &lt;span style="color:#ae81ff">\(&lt;/span> -clone &lt;span style="color:#ae81ff">0&lt;/span> -resize XxY &lt;span style="color:#ae81ff">\)&lt;/span> -delete &lt;span style="color:#ae81ff">0&lt;/span> -gravity center -compose over -composite IMAGECIBLE
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>NB :_ Replace XxY by the desired dimensions.&lt;/p>
&lt;p>Example:&lt;/p>
&lt;p>&lt;img src="bottes_stylmartin_rocket_picto.jpg.mode2.jpg" alt="Mode 2"> &lt;br>
&lt;img src="EN13594-1_-_DXR_-_SANCHEZ_PUNCHER.jpg.mode2.jpg" alt="Mode 2"> &lt;br>
&lt;img src="EN13594-1KP_-_FIVE_-_TFX2_WOMAN_WP.jpg.mode2.jpg" alt="Mode 2">&lt;/p>
&lt;h2 id="method-3-fill-in-the-empty-areas-by-extrapolation" >Method 3: Fill in the empty areas by extrapolation
&lt;span>
&lt;a href="#method-3-fill-in-the-empty-areas-by-extrapolation">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>Inspiration:&lt;/p>
&lt;blockquote>
&lt;p>&lt;em>Fred/fmw42&lt;/em> in this forum page: &lt;a href="https://legacy.imagemagick.org/discourse-server/viewtopic.php?t=26928">ImageMagick - turn image with borders into full bleed image&lt;/a>.&lt;/p>
&lt;/blockquote>
&lt;p>The code is a bit long, I don&amp;rsquo;t put it here, it is in the &lt;em>shell&lt;/em> script below.&lt;/p>
&lt;p>The result is quite impressive on the pictures, especially if the dimensions are not too far from the original:
Sometimes you have to look closely at the extrapolated areas to realize that they are artificial (here in 300x300).&lt;/p>
&lt;p>On the other hand, large flat areas of white do not suit him and stand out in red.&lt;/p>
&lt;p>Example :&lt;/p>
&lt;p>&lt;img src="bottes_stylmartin_rocket_picto.jpg.mode3.jpg" alt="Mode 3"> &lt;br>
&lt;img src="EN13594-1_-_DXR_-_SANCHEZ_PUNCHER.jpg.mode3.jpg" alt="Mode 3">
&lt;img src="EN13594-1KP_-_FIVE_-_TFX2_WOMAN_WP.jpg.mode3.jpg" alt="Mode 3">&lt;/p>
&lt;h2 id="shell-script" >Shell script
&lt;span>
&lt;a href="#shell-script">
&lt;svg viewBox="0 0 28 23" height="100%" width="19" xmlns="http://www.w3.org/2000/svg">&lt;path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" fill="none" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>&lt;/svg>
&lt;/a>
&lt;/span>
&lt;/h2>&lt;p>This shell script takes all the files in the subdirectory &lt;em>&amp;ldquo;a_traiter/&amp;rdquo;&lt;/em> and produces the results according to the 3 modes in the directory &lt;em>&amp;ldquo;res/&amp;rdquo;&lt;/em> .&lt;/p>
&lt;ul>
&lt;li>Mode 11 : Flat white ;&lt;/li>
&lt;li>Mode 12 : Solid background color ;&lt;/li>
&lt;li>Mode 2 : Extension ;&lt;/li>
&lt;li>Mode 4: Voronoi.&lt;/li>
&lt;/ul>
&lt;p>Set up:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>mkdir gen_thumbs
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cd gen_thumbs
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mkdir a_traiter res
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>touch gen_thumbs.sh
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>chmod +x gen_thumbs.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Edit the file &lt;em>&amp;ldquo;gen_thumbs.sh&amp;rdquo;&lt;/em> and put :&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#!/bin/bash
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">for&lt;/span> fic in a_traiter/*
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">do&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> echo &lt;span style="color:#e6db74">${&lt;/span>fic&lt;span style="color:#e6db74">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ficsource&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">$(&lt;/span>basename &lt;span style="color:#e6db74">&amp;#34;&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>fic&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&lt;/span>&lt;span style="color:#66d9ef">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> xcible&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">300&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ycible&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">200&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> size&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>xcible&lt;span style="color:#e6db74">}&lt;/span>x&lt;span style="color:#e6db74">${&lt;/span>ycible&lt;span style="color:#e6db74">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> convert &lt;span style="color:#e6db74">&amp;#34;&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>fic&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&lt;/span> -resize &lt;span style="color:#e6db74">${&lt;/span>size&lt;span style="color:#e6db74">}&lt;/span> res/tmp.png
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> xoff&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">`&lt;/span>convert res/tmp.png -format &lt;span style="color:#e6db74">&amp;#34;%w&amp;#34;&lt;/span> info:&lt;span style="color:#e6db74">`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> yoff&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">`&lt;/span>convert res/tmp.png -format &lt;span style="color:#e6db74">&amp;#34;%h&amp;#34;&lt;/span> info:&lt;span style="color:#e6db74">`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> yoff&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">$((&lt;/span>&lt;span style="color:#f92672">(&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>ycible&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>yoff&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#f92672">)/&lt;/span>&lt;span style="color:#ae81ff">2&lt;/span>&lt;span style="color:#66d9ef">))&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> xoff&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">$((&lt;/span>&lt;span style="color:#f92672">(&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>xcible&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#f92672">-&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>xoff&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#f92672">)/&lt;/span>&lt;span style="color:#ae81ff">2&lt;/span>&lt;span style="color:#66d9ef">))&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> vcoords&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>size&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">-&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>xoff&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">-&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>yoff&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> echo &lt;span style="color:#e6db74">${&lt;/span>vcoords&lt;span style="color:#e6db74">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># Mode 11 - fond blanc&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> convert &lt;span style="color:#e6db74">&amp;#34;&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>fic&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&lt;/span> -trim -fuzz 5% +repage -auto-orient -resize &lt;span style="color:#e6db74">${&lt;/span>xcible&lt;span style="color:#e6db74">}&lt;/span>x&lt;span style="color:#e6db74">${&lt;/span>ycible&lt;span style="color:#e6db74">}&lt;/span> -background white -gravity center -extent &lt;span style="color:#e6db74">${&lt;/span>xcible&lt;span style="color:#e6db74">}&lt;/span>x&lt;span style="color:#e6db74">${&lt;/span>ycible&lt;span style="color:#e6db74">}&lt;/span> res/&lt;span style="color:#e6db74">&amp;#34;&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>ficsource&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&lt;/span>.mode11.jpg
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># Mode 12 - fond repris de l&amp;#39;original&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> convert &lt;span style="color:#e6db74">&amp;#34;&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>fic&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&lt;/span> -gravity northwest -crop 1x1+0+0 -format &lt;span style="color:#e6db74">&amp;#34;%[pixel:u]&amp;#34;&lt;/span> info:- | xargs -I &lt;span style="color:#f92672">{}&lt;/span> convert &lt;span style="color:#e6db74">&amp;#34;&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>fic&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&lt;/span> -trim -fuzz 5% +repage -auto-orient -resize &lt;span style="color:#e6db74">${&lt;/span>xcible&lt;span style="color:#e6db74">}&lt;/span>x&lt;span style="color:#e6db74">${&lt;/span>ycible&lt;span style="color:#e6db74">}&lt;/span> -background &lt;span style="color:#f92672">{}&lt;/span> -gravity center -extent &lt;span style="color:#e6db74">${&lt;/span>xcible&lt;span style="color:#e6db74">}&lt;/span>x&lt;span style="color:#e6db74">${&lt;/span>ycible&lt;span style="color:#e6db74">}&lt;/span> res/&lt;span style="color:#e6db74">&amp;#34;&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>ficsource&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&lt;/span>.mode12.jpg
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># Mode 2 - superposition&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> convert &lt;span style="color:#e6db74">&amp;#34;&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>fic&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&lt;/span> &lt;span style="color:#ae81ff">\(&lt;/span> -clone &lt;span style="color:#ae81ff">0&lt;/span> -blur 0x9 -resize &lt;span style="color:#e6db74">${&lt;/span>xcible&lt;span style="color:#e6db74">}&lt;/span>x&lt;span style="color:#e6db74">${&lt;/span>ycible&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#ae81ff">\!&lt;/span> &lt;span style="color:#ae81ff">\)&lt;/span> &lt;span style="color:#ae81ff">\(&lt;/span> -clone &lt;span style="color:#ae81ff">0&lt;/span> -resize &lt;span style="color:#e6db74">${&lt;/span>xcible&lt;span style="color:#e6db74">}&lt;/span>x&lt;span style="color:#e6db74">${&lt;/span>ycible&lt;span style="color:#e6db74">}&lt;/span> &lt;span style="color:#ae81ff">\)&lt;/span> -delete &lt;span style="color:#ae81ff">0&lt;/span> -gravity center -compose over -composite res/&lt;span style="color:#e6db74">&amp;#34;&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>ficsource&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&lt;/span>.mode2.jpg
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># Mode 3 - superposition&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> convert res/tmp.png -transparent white +repage &lt;span style="color:#ae81ff">\(&lt;/span> -clone &lt;span style="color:#ae81ff">0&lt;/span> -alpha off -sparse-color Voronoi &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> &lt;span style="color:#e6db74">&amp;#34;9,9 rgb(255,8,8) 969,9 rgb(255,255,8) 969,669 rgb(255,255,248) 9,669 rgb(255,248,248)&amp;#34;&lt;/span> &lt;span style="color:#ae81ff">\)&lt;/span> &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> +swap -compose over -composite &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> -define distort:viewport&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>size&lt;span style="color:#e6db74">}&lt;/span>-&lt;span style="color:#e6db74">${&lt;/span>xoff&lt;span style="color:#e6db74">}&lt;/span>-&lt;span style="color:#e6db74">${&lt;/span>yoff&lt;span style="color:#e6db74">}&lt;/span> +distort SRT &lt;span style="color:#ae81ff">0&lt;/span> +repage res/&lt;span style="color:#e6db74">&amp;#34;&lt;/span>&lt;span style="color:#e6db74">${&lt;/span>ficsource&lt;span style="color:#e6db74">}&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&lt;/span>.mode3.jpg
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> rm -f res/tmp.png
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">done&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>All you have to do is put an image in the &lt;em>&amp;ldquo;a_traiter/&amp;rdquo;&lt;/em> directory and run the script:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>cd gen_thumb_sparse_voronoi/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>./gen_thumb_sparse_voronoi.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>The result will be produced in &lt;em>&amp;ldquo;res/&amp;rdquo;&lt;/em>.&lt;/p>
&lt;blockquote>
&lt;p>Note: To change the target dimensions, just change the values of xcible=xxx and ycible=yyy.&lt;/p>
&lt;/blockquote></description></item></channel></rss>